import{_ as d,l as s,m as c,n as _,B as n,G as l,s as i,J as e,Q as o}from"./chunks/framework.4100087b.js";const y=JSON.parse('{"title":"插值调用","description":"","frontmatter":{},"headers":[],"relativePath":"zh-CN/interp.md","filePath":"zh-CN/interp.md"}'),u={name:"zh-CN/interp.md"},h=i("h1",{id:"插值调用",tabindex:"-1"},[e("插值调用 "),i("a",{class:"header-anchor",href:"#插值调用","aria-label":'Permalink to "插值调用"'},"​")],-1),r=i("h2",{id:"基本用法",tabindex:"-1"},[e("基本用法 "),i("a",{class:"header-anchor",href:"#基本用法","aria-label":'Permalink to "基本用法"'},"​")],-1),p=i("p",null,[e("你可以使用 "),i("code",null,"$()"),e(" 的高级语法来在回答中插入指令调用的结果：")],-1),m=i("br",null,null,-1),f=i("p",null,"当然你也可以在回答中插入多条指令，它们会逐一完成调用后统一输出：",-1),k=i("br",null,null,-1),b=i("br",null,null,-1),A=o("",3),K=i("p",null,"由于重定向问答是一个独立的问答，因此它也拥有完全独立的上下文、好感度、概率、后继问题等机制。例如当输入“人可以一天不吃饭”时，将以 0.8 的概率重定向为问题“你可以一天不吃饭”，因此会以 0.6×0.8=0.48 的概率触发回答“但不能一天不背单词”。",-1),$=i("p",null,[e("实际上，"),i("strong",null,"重定向到问题也是通过指令来实现的"),e("，它的原理很简单。我们加入了一个叫做 dialogue 的指令，功能是在当前上下文尝试触发一次问答。因此 "),i("code",null,"# 问题1 => 问题2"),e(" 会被系统转换为 "),i("code",null,'# 问题1 "$(dialogue 问题2)"'),e(" 来处理。")],-1),g=i("h2",{id:"递归搜索",tabindex:"-1"},[e("递归搜索 "),i("a",{class:"header-anchor",href:"#递归搜索","aria-label":'Permalink to "递归搜索"'},"​")],-1),N=i("p",null,"首先让我们看一个简单的例子：",-1),T=i("br",null,null,-1),x=i("br",null,null,-1),P=i("p",null,"如果我们对添加一个重定向到上述问题的问答，则此时在搜索结果中将自动展开其重定向的结果：",-1),v=i("br",null,null,-1),C=i("br",null,null,-1),Q=i("br",null,null,-1),S=i("p",null,[e("这是因为调用 "),i("code",null,"##"),e(" 进行搜索时程序会自动递归地搜索所有回答的重定向。你也可以使用 "),i("code",null,"-R"),e(" 来让 Koishi 不显示上面的重定向结果：")],-1),V=i("br",null,null,-1),B=o("",11);function R(I,q,z,D,E,J){const a=s("chat-message"),t=s("chat-panel");return c(),_("div",null,[h,r,p,n(t,null,{default:l(()=>[n(a,{nickname:"Alice"},{default:l(()=>[e("# 我的回合，抽卡！ $(lottery)")]),_:1}),n(a,{nickname:"Koishi"},{default:l(()=>[e("问答已添加，编号为 1201。")]),_:1}),n(a,{nickname:"Alice"},{default:l(()=>[e("我的回合，抽卡！")]),_:1}),n(a,{nickname:"Koishi"},{default:l(()=>[e("恭喜 Alice 获得了国士无双之药（SR）！"),m,e("月之贤者为了测试这瓶药的效果，曾给某只兔子强行灌了一桶。")]),_:1})]),_:1}),f,n(t,null,{default:l(()=>[n(a,{nickname:"Alice"},{default:l(()=>[e('# 吊死鬼元音开局 "$(hangman)'),k,e('$(hangman aeiou)"')]),_:1}),n(a,{nickname:"Koishi"},{default:l(()=>[e("问答已添加，编号为 1202。")]),_:1}),n(a,{nickname:"Alice"},{default:l(()=>[e("吊死鬼元音开局")]),_:1}),n(a,{nickname:"Koishi"},{default:l(()=>[e("游戏开始，要猜的词尾 ???????，剩余 10 次机会。"),b,e("尝试成功！剩余字母为 ?i?u?e?，已使用的字母为 aeiou，剩余 8 次机会。")]),_:1})]),_:1}),A,n(t,null,{default:l(()=>[n(a,{nickname:"Alice"},{default:l(()=>[e("# 你可以一天不吃饭 但不能一天不背单词 -p 0.6")]),_:1}),n(a,{nickname:"Koishi"},{default:l(()=>[e("问答已添加，编号为 1203。")]),_:1}),n(a,{nickname:"Alice"},{default:l(()=>[e("# 人可以一天不吃饭 => 你可以一天不吃饭 -p 0.8")]),_:1}),n(a,{nickname:"Koishi"},{default:l(()=>[e("问答已添加，编号为 1204。")]),_:1})]),_:1}),K,$,g,N,n(t,null,{default:l(()=>[n(a,{nickname:"Alice"},{default:l(()=>[e("# 我可以做什么 抽卡")]),_:1}),n(a,{nickname:"Koishi"},{default:l(()=>[e("问答已添加，编号为 1205。")]),_:1}),n(a,{nickname:"Alice"},{default:l(()=>[e("# 我可以做什么 钓鱼")]),_:1}),n(a,{nickname:"Koishi"},{default:l(()=>[e("问答已添加，编号为 1206。")]),_:1}),n(a,{nickname:"Alice"},{default:l(()=>[e("## 我可以做什么")]),_:1}),n(a,{nickname:"Koishi"},{default:l(()=>[e("问题“我可以做什么”的回答如下："),T,e("1205. 抽卡"),x,e("1206. 钓鱼")]),_:1})]),_:1}),P,n(t,null,{default:l(()=>[n(a,{nickname:"Alice"},{default:l(()=>[e("# 我能做什么 => 我可以做什么")]),_:1}),n(a,{nickname:"Koishi"},{default:l(()=>[e("问答已添加，编号为 1207。")]),_:1}),n(a,{nickname:"Alice"},{default:l(()=>[e("## 我能做什么")]),_:1}),n(a,{nickname:"Koishi"},{default:l(()=>[e("问题“我可以做什么”的回答如下："),v,e("1207. $(dialogue 我可以做什么)"),C,e("= 1205. 抽卡"),Q,e("= 1206. 钓鱼")]),_:1})]),_:1}),S,n(t,null,{default:l(()=>[n(a,{nickname:"Alice"},{default:l(()=>[e("## 我能做什么 -R")]),_:1}),n(a,{nickname:"Koishi"},{default:l(()=>[e("问题“我可以做什么”的回答如下："),V,e("1207. $(dialogue 我可以做什么)")]),_:1})]),_:1}),B])}const G=d(u,[["render",R]]);export{y as __pageData,G as default};
